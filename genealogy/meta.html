<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/favicon.png">
  <link rel="stylesheet" href="genealogy.css">
  <style>
    *{font-family: 'Times New Roman', Times, serif}
  </style>
  <title>곡강최가</title>
  <script src="./meta.js"></script>
</head>
<body style="width: 100%; min-width: 1280px; font-size: 16px;padding-top: 8px;">
  <section style="text-align: center; background-color: rgb(213, 213, 213);">
    아버지
    <input name="father" id="father" type="text" value=""onkeypress="findFamily(this.value, document.getElementById('selfName').value);" onclick="this.value=''">
    <input type="radio" id="fatherSelector" onclick="hide('father')"  tabindex="0">
    <label for="fatherSelector">모름</label><br>
    찾는 이름 <input id="selfName" type="text" value="" onkeypress="findFamily(document.getElementById('father').value, this.value);" onclick="this.value=''">
    <button onclick="findFamily(document.getElementById('father').value, document.getElementById('selfName').value);">찾기</button>
  </section>
  <!-- <iframe id="mainframe" src="page001.html" name="mainframe" style="width: 100%; height: 950px;border: none;"></iframe> -->
  <table class="family">
		<tr height="200">
			<td class="textCenter">
				1세
			</td>
			<td  class="alignCenter">
				<span style="font-size: 15px; font-family: serif; color: unset;">시조</span><br>최호<br><span>崔湖</span>
			</td>
			<td style="width: 600px; padding: 6px;">
				고려 검교대장군 곡강부원군<br>
				묘는 포항시 흥해읍 동쪽 4km에 있는 오산에 남서향(丑艮龍艮坐)으로 용머리의 석곽(龍頭石槨)이 있으며, 
				은진 송정화가 글을 지은 비석이 있고, 흥해읍지와 교남지(영남지)에 기재되었다. <br>
				할머니 부인(夫人) 황씨 묘는 부원군 묘 오른쪽(白虎 丑坐)에 있었으나 지금은 알 수 없으며, 
				예로부터 단을 세워두고 묘제사를 지낼 때 영령을 모셔오기 위해 사용한다.(故今設壇享祀) <br>
			</td>
			<td  class="textCenter">
				6세
			</td>
			<td  class="alignCenter">
				청<br><span>聽</span>
			</td>
			<td style="width: 300px;">
				자 덕성(德性) <br>진사<br>할머니 손씨<br>
			</td>
			<td  class="textCenter">
				11세
			</td>
			<td  class="alignCenter">
				경운<br><span>慶雲</span>
			</td>
			<td style="width: 300px;">
				행 진주영장좌병사<br>
				흥해읍지에 기재됨<br>
			</td>
		</tr>

		<tr height="200">
			<td  class="textCenter">
				2세
			</td>
			<td  class="alignCenter">
				영<br><span>瑛</span>
			</td>
			<td style="width: 600px;">
				첨의찬성사 상장군 어사대부
			</td>
			<td  class="width50 textCenter">
				7세
			</td>
			<td  class="alignCenter">
				운성<br><span>韻盛</span>
			</td>
			<td style="width: 300px;">
				자 형보(形甫) <br>생원<br>할머니 김씨<br>
			</td>
			<td  class="textCenter">
				12세
			</td>
			<td  class="alignCenter">
				불수<br><span>佛壽</span>
			</td>
			<td>
				묘가 신당산에 있었으나 알 수 없음
			</td>
		</tr>

		<tr height="200">
			<td  class="textCenter">
				3세
			</td>
			<td  class="alignCenter">
				탁<br><span>琸</span>
			</td>
			<td>
				생원도사
			</td>
			<td class="textCenter">
				8세
			</td>
			<td  class="alignCenter">
				경어<br><span>敬語</span>
			</td>
			<td>
				자 판일(判一) <br>군수<br>할머니 월성손씨 국중(國中)의 따님<br>
			</td>
			<td  class="textCenter">
				13세
			</td>
			<td  class="textCenter">
				홍<br><span>洪</span>
			</td>
			<td>
				묘가 신당산에 있었으나 알 수 없음
			</td>
		</tr>

		<tr height="200">
			<td  class="textCenter">
				4세
			</td>
			<td  class="alignCenter">
				진헌<br><span>榛軒</span>
			</td>
			<td>
				자 상직(相直)
			</td>
			<td  class="textCenter">
				9세
			</td>
			<td  class="alignCenter">
				원묵<br><span>願黙</span>
			</td>
			<td>
				자 군언(君言) <br>
				할머니 월성박씨<br>
			</td>
			<td  class="textCenter">
				14세
			</td>
			<td  class="alignCenter">
				저<br><span>楮</span>
			</td>
			<td>
				묘가 신당산에 있었으나 알 수 없음
			</td>
		</tr>

		<tr height="200">
			<td class="textCenter">
				5세
			</td>
			<td  class="alignCenter">
				우종<br><span>佑鍾</span>
			</td>
			<td>
				자 위일(爲一)
			</td>
			<td  class="textCenter">
				10세
			</td>
			<td  class="alignCenter">
				헌진<br><span>獻振</span>
			</td>
			<td>
				자 치황(致荒)
			</td>
			<td  class=" textCenter">
				15세
			</td>
			<td  class="alignCenter">
				점<br><span>霑</span>
			</td>
			<td>
				묘가 신당산에 있었으나 알 수 없음
			</td>
		</tr>

		<tr height="120">
			<td colspan="6">
				&nbsp;
			</td>
			<td class="textCenter">
				16세
			</td>
			<td class="alignCenter">
				<a href="./page002.html">운로<br><span>雲露</span><br>&nbsp;▼</a><br>
			</td>
			<td>
        &nbsp;
			</td>
		</tr>
	</table>

	<table>
		<tr style="height: 45px;">
      <td class="borderUnset">
				<a href="./reserch.html">이전☜</a>&nbsp;쪽 1&nbsp;<a href="./page002.html">☞다음</a>
			</td>
		</tr>

    <tr>
      <td class="borderUnset">
        <img src="./png/img001.png" onclick="window.open('./png/img001.png')" title="원문을 크게 보시려면 원문을 클릭하세요!">
      </td>
    </tr>

	</table>
</body>
</html>
<script>
  // 아버지를 모르면 입력란 감추기
  function hide(hide) {
    const element = document.getElementById(hide);
    if (element.style.visibility != "hidden") {
      element.style.visibility = "hidden";
      element.value = "";
      document.getElementById("fatherSelector").value = "false";
    } else {
      element.style.visibility = "visible";
      element.value = "";
      document.getElementById("fatherSelector").value = "true";
    }
  }

  // 아버지 이름과 자신의 이름으로 찾기
  function findFamily (fatheName="", selfName="") {
    let count = 0;  // 찾은 사람 수
    const element = document.getElementById('fatherSelector');

    if (element.value === "true" && fatheName === "") {
      return alert("아버지의 이름을 입력하세요!");
    }

    if (selfName === "") {
      return alert("족친의 이름을 입력하세요!");
  }

    if (fatheName != "" && selfName != "") {
      let length = Family.length;
      for (let i=0; i < length; i++){
        let len = Family[i].length;
        for (let j=0; j < len; j++) {
          if (Family[i][j].father === fatheName && Family[i][j].self === selfName) {
            count++;
            if (count  === 1) {
              document.getElementById("mainframe").src = Family[i][j].url;
              break;
            } else if (count > 1) {
              window.open(Family[i][j].url);
              break;
            }
          }//end if
        }//end inner for
      }//end outter for
    } else {
      let length = Family.length;
      for (let i=0; i < length; i++){
        let len = Family[i].length;
        for (let j=0; j < len; j++) {
          if (Family[i][j].self === selfName) {
            // window.open(Family[i][j].url);
            count++;
            if (count  === 1) {
              document.getElementById("mainframe").src = Family[i][j].url;
              break;
            } else if (count > 1) {
              window.open(Family[i][j].url);
              break;
            }
            /*  if (count > 0) {
              window.open(Family[i][j].url);
              break;
            }
            break; */
            // return;
          }//end if
        }//end inner for
      }//end outter for
    } // end else-if

    if (count > 0) {
      alert(`모두 ${count} 명의 족친을 찾았습니다.`);
      return;
    } else {
      return  alert(`아버지 [${fatheName}], 이름 [${selfName}]의 족친은 계시지 않습니다!`);
    }

  }// end findFamily()

  // 입력 헤더 고정
  const section = document.querySelector('section');
  const sectionTopOffset = section.offsetTop;

  window.addEventListener('scroll', e => {
      if (window.pageYOffset >= sectionTopOffset){
          section.style.position = 'fixed';
          section.style.top = 0;
          section.style.left = 0;
          section.style.right = 0;
      } else {
          section.style.position = '';
          section.style.top = '';
      }
  });
</script>