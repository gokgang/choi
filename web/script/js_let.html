<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="JavaScript, 자바스크립트">
  <base href="" target="_blank">
  <link rel="stylesheet" href="js.css">
  <link rel="icon" href="/favicon.png">
  <title>JavaScript 변수</title>
</head>
<body>
  <a href="/">곡강최가</a>
  <h1>JavaScript <b> let</b> 지시어</h1>
  <hr>
  <h2>ECMAScript 2015</h2>
  <p>
    <b>ES2015</b> 이전에는 전역 범위와 함수 범위라는 두 가지 유형의 범위 만 있었다.<br>
    <em>ES2015</em> 는 JavaScript에서 묶음 안의 변수 <em>let</em>와 상수 <em>const</em> 를 사용할 수 있다.<br>
  </p>

  <hr>
  <h2>전역 범위(Global Scope)</h2>
  <p>모든 함수의 외부에 선언된 변수는 모든 곳에서 접근할 수 있는 전역 범위(Global Scope)가 된다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> carName = "<dark>Volvo</dark>";
  <green>// 여기의 코드는 carName 을 사용할 수 있다.</green>
  <blue>function</blue> myFunction() {
    <green>// 여기의 코드 역시 carName 을 사용할 수 있다.</green>
  }
</pre>
  </div>
  <p>전역(Global) 변수는 JavaScript 프로그램의 어느 곳에서나 접근할 수 있다.</p>

  <hr>
  <h2>함수 범위(Function Scope)</h2>
  <p>함수 내부에서 선언된 변수는 함수 범위(Function Scope)를 갖는 지역(Local) 변수이다.</p>

  <div class="grey">
<pre>
  <green>// 여기의 코드는 carName 을 사용할 수 없다.</green>
  <blue>function</blue> myFunction() {
    <blue>var</blue> carName = "<dark>Volvo</dark>";
    <green>// 여기의 코드는 carName 을 사용할 수 있다.</green>
  }
  <green>// 여기의 코드는 carName 을 사용할 수 없다.</green>
</pre>
  </div>
  <p>지역 변수는 선언된 함수 내에서만 접근할 수 있다.</p>

  <hr>
  <h2>묶음 범위(Block Scope)</h2>
  <p><em>var</em> 지시어로 선언한 변수는 묶음 범위를 가질 수 없다.</p>
  <p>중괄호 {...} 묶음 안에서 선언된 <em>var</em> 변수는 묶음 바깥에서도 접근할 수 있다.</p>

  <div class="grey">
<pre>
  {
    <blue>var</blue> x = <red>2</red>;
  }
  <green>// 여기에서 x 를 사용할 수 있다</green>
</pre>
  </div>

  <p>
    <b>ES2015</b> 이전에는 묶음 범위가 없었지만, <b>ES2015</b> 부터 <em>let</em> 지시어로 선언된 변수는 묶음 범위를 가질 수 있다.<br>
    중괄호 {...} 묶음 안에서 <em>let</em> 지시어로 선언된 변수는 묶음 바깥에서 접근할 수 없다.<br>
  </p>

  <div class="grey">
<pre>
  {
    <blue>let</blue> x = <red>2</red>;
  }
  <green>// 여기에서는 x 를 사용할 수 없다</green>
</pre>
  </div>

  <h2>변수 재선언</h2>
  <p><em>var</em> 키워드를 사용하여 변수를 다시 선언하면 문제가 발생할 수 있다.</p>
  <p>블록 내부에서 같은 이름의 변수를 다시 선언하면 블록 외부의 변수도 다시 정의된다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> x = <red>10</red>;
  <green>// Here x is 10</green>
  {
      <blue>var</blue> x = <red>2</red>;
      <green>// Here x is 2</green>
  }
  <green>// Here x is 2</green>
  document.write("<dark>x := </dark>" + x);
</pre>
<div class="border">
  <script>
    var x = 10;
    {
      var x = 2;
    }
    document.write("x := " + x);
  </script>
</div>
  </div>

  <p><em>let</em> 지시어를 사용하여 변수를 다시 선언하면 이 문제를 해결할 수 있다.</p>
  <p>중괄호 묶음 안의 변수를 다시 선언해도 묶음 바깥의 변수는 영향을 받지 않는다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> y = <red>10</red>;
  <green>// Here y is 10</green>
  {
      <blue>let</blue> y = <red>2</red>;
      <green>// Here y is 2</green>
  }
  <green>// Here y is 10</green>
  document.write("<dark>y := </dark>" + y);
</pre>
<div class="border">
  <script>
    var y = 10;
    {
      let y = 2;
    }
    document.write("y := " + y);
  </script>
</div>
  </div>

  <hr>
  <h2>반복문의 변수 범위</h2>
  <p>
    <em>var</em> 를 사용하여 반복문 안에 선언된 변수가 반복문 바깥의 변수를 다시 정의한다.
  </p>

  <div class="grey">
<pre>
  <blue>var</blue> i = <red>5</red>;
  <blue>for</blue> (<blue>var</blue> i = <red>0</red>; i &lt; <red>10</red>; i++) {
    <green>// some statements</green>
  }
  <green>// Here i is 10</green>
  document.write("<dark>i := </dark>" + i);
</pre>
<div class="border">
  <script>
    var i = 5;
    for (var i = 0; i < 10; i++ ) {
      // some statements
    }
    document.write("i := " + i);
  </script>
</div>
  </div>

  <p>반복문에서 <em>let</em> 사용하여 선언된 변수는 반복문 바깥의 변수를 다시 정의하지 않는다.
  </p>

  <div class="grey">
<pre>
  <blue>let</blue> j = <red>5</red>;
  <blue>for</blue> (<blue>let</blue> j = <red>0</red>; j &lt; <red>10</red>; j++) {
    <green>// some statements</green>
  }
  <green>// Here j is 5</green>
  document.write("j := " + j);
</pre>
<div class="border">
  <script>
    let j = 5;
    for (let j = 0;j < 10; j++ ) {
      // some statements
    }
    document.write("j := " + j);
  </script>
</div>
  </div>
  <p>
    반복문 안에서 <em>let</em> 를 사용하여 선언한 변수는 반복문 안에서만 유효하다.
  </p>


  <hr>
  <h2>함수에서 변수의 범위</h2>
  <p><em>var</em> 및 <em>let</em> 로 선언된 변수는 함수 안에서 선언될 때 함수 안에서만 유효하다.</p>

  <div class="grey">
    <div class="white">
<pre>
  <blue>function</blue> myFunction() {
    <vlue>var</vlue> carName = "<dark>Volvo</dark>";   <green>// Function Scope</green>
  }
</pre>
    </div>
    <div class="white">
<pre>
  <blue>function</blue> myFunction() {
    <vlue>let</vlue> carName = "<dark>Volvo</dark>";   <green>// Function Scope</green>
  }
</pre>
    </div>
  </div>

  <h2>전역 변수의 범위</h2>
  <p><em>var</em> 및 <em>let</em> 로 선언된 변수는 묶음 바깥에서 선언될 때의 유효 범위는 프로그램 전역에서 사용할 수 있다.</p>

  <div class="grey">
    <div class="white">
      <pre><blue>var</blue> x = <red>2</red>;       <green>// Global scope</green></pre>
    </div>
    <div class="white">
      <pre><blue>let</blue> x = <red>2</red>;       <green>// Global scope</green></pre>
    </div>
  </div>

  <hr>
  <h2>HTML의 전역 변수</h2>
  <p>JavaScript에서 전역 범위는 JavaScript 전체 환경이다.</p>
  <p>HTML에서 전역 범위는 브라우저 창(window) 객체이다.</p>
  <p><em>var</em> 지시어로 정의된 전역 변수는 브라우저 창(window) 객체에 속한다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> carName = "<dark>Volvo</dark>";
  <green>// 여기 코드는 window.carName을 사용할 수 있다.</green>
</pre>
  </div>

  <p><em>let</em> 키워드로 정의된 전역 변수는 창(window) 객체에 속하지 않는다.</p>
  <div class="grey">
<pre>
  <blue>let</blue> carName = "<dark>Volvo</dark>";
  <green>// 여기 코드는 window.carName을 사용할 수 없다.</green>
</pre>
  </div>

  <h2>변수 재선언</h2>
  <p>JavaScript <em>var</em> 변수를 다시 선언하는 것은 프로그램의 모든 위치에서 허용된다.</p>
  <div class="grey">
<pre>
  <blue>var</blue> x = <red>2</red>; <green>// Now x is 2</green>
  <blue>var</blue> x = <red>3</red>; <green>// Now x is 3</green>
</pre>
  </div>

  <p>동일한 범위 또는 동일한 묶음에서 <em>let</em> 를 사용하여 <em>var</em> 변수를 다시 선언하는 것은 허용되지 않는다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> x = <red>2</red>; <green>// 가능</green>
  <blue>let</blue> x = <red>3</red>; <green>// 불가</green>
  {
      <blue>var</blue> x = <red>4</red>; <green>// 가능</green>
      <blue>let</blue> x = <red>5</red>; <green>// 불가</green>
  }
</pre>
  </div>

  <p>동일한 범위 또는 동일한 묶음에서 <em>let</em> 를 사용하여 <em>let</em> 변수를 다시 선언하는 것은 허용되지 않는다.</p>

  <div class="grey">
<pre>
  <blue>let</blue> x = <red>2</red>; <green>// 가능</green>
  <blue>let</blue> x = <red>3</red>; <green>// 불가</green>
  {
      <blue>let</blue> x = <red>4</red>; <green>// 가능</green>
      <blue>let</blue> x = <red>5</red>; <green>// 불가</green>
  }
</pre>
    </div>
  
  <p>동일한 범위 또는 동일한 묶음에서 <em>var</em> 를 사용하여 <em>let</em> 변수를 다시 선언하는 것은 허용되지 않는다.</p>

  <div class="grey">
<pre>
  <blue>let</blue> x = <red>2</red>; <green>// 가능</green>
  <blue>var</blue> x = <red>3</red>; <green>//불가</green>
  {
      <blue>let</blue> x = <red>4</red>; <green>// 가능</green>
      <blue>var</blue> x = <red>5</red>; <green>// 불가</green>
  }
</pre>
    </div>

  <p>다른 범위 또는 다른 묶음에서 <em>let</em> 를 사용하여 변수를 다시 선언 할 수 있다.</p>

  <div class="grey">
    <h3>예 :</h3>
    <div class="white">
<pre>
  <blue>let</blue> x = <red>2</red>; <green>// Allowed</green>
  {
      <blue>let</blue> x = <red>3</red>; <green>// Allowed</green>
  }
  {
      <blue>let</blue> x = <red>4</red>; <green>// Allowed</green>
  }
</pre>
    </div>
  </div>

  <hr>
  <h2>끌어 올리기(Hoisting)</h2>
  <p>
    <em>var</em> 변수로 정의된 변수는 어느 곳에 선언되어 있어도 자동으로 맨 위로 끌어 올려져(Hoisting) 선언되고 언제든지 사용할 수 있다.
  </p>
  <p>
    JavaScript에서 변수는 선언하기 전에 사용할 수 있으며, 선언없이 그냥 사용해도 된다는 것을 의미한다.
  </p>

  <div class="grey">
<pre>
  carName = "<dark>Volvo</dark>";
  <i>alert</i>(carName);
  <blue>var</blue> carName;
</pre>
  </div>

  <p>
    <em>let</em> 로 정의된 변수는 블록의 맨 위로 끌어 올려지지만(Hoisting) 초기화되지는 않는다.<br>
    코드 묶음은 변수를 인식하지만 선언될 때까지 사용할 수 없다.<br>
    <em>let</em> 변수를 선언하기 전에 사용하면 <em>ReferenceError</em> 가 발생한다.<br>
    <em>let</em> 변수는 묶음의 시작부터 선언될 때까지 "대기 상태"에 있게 된다.<br>
  </p>

  <div class="red">
    <h3>예 : 결과는 ReferenceError 발생</h3>
<pre>
  &lt;<dark>script</dark>>
    <blue>try</blue> {
      <green>// let carName;</green>
      carName = "<dark>Genesys</dark>";
      <blue>let</blue> carName;
      document.write(carName);
    } <blue>catch</blue> (e) {
      document.write(e);
    }
  &lt;<dark>/script</dark>>
</pre>
    <div class="border">
      <script>
        try {
          // let carName;
          carName = "Genesys";
          let carName;
          document.write(carName);
        } catch (e) {
          document.write(e);
        }
      </script>
    </div>
  </div>

  <script src="footer.js"></script>
</body>
</html>