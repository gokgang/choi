<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="JavaScript, 자바스크립트">
  <base href="" target="_blank">
  <link rel="stylesheet" href="js.css">
  <link rel="icon" href="/favicon.png">
  <title>JavaScript 상수</title>
</head>
<body>
  <a href="/">곡강최가</a>
  <h1>JavaScript 상수(const)</h1>
  <hr>
  <p>
    <b>ES2015</b> 는 묶음 범위 변수 <em>let</em>와 <em>const</em> 로 정의된 상수를 사용할 수 있도록 새로운 지시어를 사용한다.<br>
    <em>const</em> 상수는 재할당할 수 없다는 점을 제외하면 <em>let</em> 변수처럼 작동한다.<br>
  </p>

  <div class="grey">
<pre>
  <blue>const</blue> PI = <red>3.141592653589793</red>;
  PI = <red>3.14</red>;       <green>// 에러 발생</green>
  PI = PI + <red>10</red>;   <green>// 에러 발생</green>
</pre>
  </div>

  <h2>묶음 범위(Block Scope)</h2>
  <p><em>const</em> 로 상수를 선언하는 것은 묶음 범위의 <em>let</em> 변수와 유사하다.</p>
  <p>다음 예제에서 묶음에서 선언된 상수 <b>x</b> 는 묶음 바깥에서 선언된 변수 <b>x</b> 와는 다르다.</p>

  <div class="grey">
<pre>
  <blue>var</blue> x = <red>10</red>;
  <green>// Here x is 10</green>
  {
    <blue>const</blue> x = <red>2</red>;
    <green>// Here x is 2</green>
  }
  <green>// Here x is 10</green>
</pre>
  </div>

  <h2>상수 <em>const</em> 는 선언시 할당</h2>
  <p>JavaScript <em>const</em> 상수는 선언될 때 값을 할당해야 한다.</p>

  <div class="red">
    <h3>잘못된 예 :</h3>
<pre>
  <blue>const </blue> PI;
  PI = <red>3.14159265359</red>;
</pre>
  </div>

  <div class="grey">
    <h3>올바른 예 :</h3>
<pre>
  <blue>const </blue> PI = <red>3.14159265359</red>;
</pre>
  </div>

  <hr>
  <h2>상수 <em>const</em> 는 실제 상수가 아니다</h2>
  <p>
    <em>const</em> 상수는 상수 값을 정의하지 않는다. 상수 값에 대한 참조를 정의한다.<br>
    이 때문에 상수의 기본 값은 변경할 수 없지만 상수 객체의 속성은 변경할 수 있다.<br>
  </p>

  <h2>상수 <em>const</em> 기본값</h2>
  <p><em>const</em> 상수에 실효값(Literal)을 기본값으로 지정하면 이후 변경할 수 없다.</p>

  <div class="red">
<pre>
  <blue>const</blue> PI = <red>3.141592653589793</red>;
  PI = <red>3.14</red>;       <green>// 에러</green>
  PI = PI + <red>10</red>;   <green>// 에러</green>
</pre>
  </div>

  <h2>상수 <em>const</em> 객체의 속성은 변경될 수 있다.</h2>

  <div class="grey">
<pre>
  <green>// const 객체 생성 :</green>
  <blue>const</blue> car = {type: "<dark>Genesys</dark>", model: "<dark>GV80</dark>", color:"<dark>grey</dark>"};
  <green>// 속성 변경 :</green>
  car.color = "<dark>white</dark>";
  <green>// 속성 추가:</green>
  car.owner = "<dark>Johnson</dark>";
</pre>
  </div>

  <p class="red">
    그러나 <em>const</em> 상수에 객체를 다시 할당할 수는 없다.
  </p>

  <div class="grey" style="background-color: #fdd;">
<pre>
  <green>// const 객체 생성 :</green>
  <blue>const</blue> car = {type: "<dark>Genesys</dark>", model: "<dark>GV80</dark>", color:"<dark>grey</dark>"};
  car = {type: "<dark>Volvo</dark>", model: "<dark>EX60</dark>", color:"<dark>red</dark>"};  <green>// ERROR</green>
</pre>
  </div>

  <h2>상수 배열은 변경 가능</h2>
  <p>상수 배열의 요소는 변경할 수 있다.</p>

  <div class="grey">
<pre>
  <green>// const 배열 생성 :</green>
  <blue>const</blue> cars = ["<dark>Genesys</dark>", "<dark>Saab</dark>", "<dark>Volvo</dark>"];

  <green>// 배열 요소 추가</green>
  cars[<red>0</red>] = "<dark>BMW</dark>";

  <green>// 배열 요소 추가</green>
  cars.push = "<dark>Audi</dark>";
</pre>
  </div>

  <p>그러나 상수 배열을 다시 할당할 수 없다.</p>
  <div class="grey" style="background-color: #fdd;">
<pre>
  <green>// const 배열 생성 :</green>
  <blue>const</blue> cars = ["<dark>Genesys</dark>", "<dark>Saab</dark>", "<dark>Volvo</dark>"];

  <green>// 다른 배열 할당 :</green>
  cars = ["<dark>Toyota</dark>", "<dark>Audi</dark>", "<dark>Volvo</dark>"];  <green>// ERROR</green>
</pre>
  </div>

  <h2>변수 재선언</h2>
  <p>JavaScript <em>var</em> 변수를 다시 선언하는 것은 프로그램의 모든 위치에서 허용된다.</p>
  <div class="grey" ><div class="border">
<pre class="comment">
  <blue>var</blue> x = <red>2</red>;
  <blue>var</blue> x = <red>3</red>;
  x = <red>4</red>;
</pre>
<pre class="comment">
  <green>// Allowed</green>
  <green>// Allowed</green>
  <green>// Allowed</green>
</pre>
  </div></div>

  <p>동일한 범위 또는 동일한 묶음에서 기존 <em>let</em> 또는 <em>var</em> 변수를 <em>const</em>로 다시 선언하는 것은 허용되지 않는다.</p>

  <div class="grey">
    <div class="border">
<pre class="comment">
  <blue>var</blue> x = <red>2</red>;
  <blue>const</blue> x = <red>3</red>;
  {
      <blue>let</blue> x = <red>4</red>;
      <blue>const</blue> x = <red>5</red>;
  }
</pre>
<pre class="comment">
  <green>// Allowed</green>
  <green>// Now Allowed</green>

  <green>// Allowed</green>
  <green>// Now Allowed</green>

</pre>
    </div>
  </div>

  <p>동일한 범위 또는 동일한 묶음에 있는 기존 <em>const</em> 변수를 재선언하거나 재할당하는 것은 허용되지 않는다.</p>

  <div class="grey"><div class="border">
<pre class="comment">
  <blue>const</blue> x = <red>2</red>;
  <blue>const</blue> x = <red>3</red>;
  x = <red>3</red>;
  <blue>var</blue> x = <red>3</red>;
  <blue>let</blue> x = <red>3</red>;
  {
      <blue>const</blue> x = <red>2</red>;
      <blue>const</blue> x = <red>3</red>;
      x = <red>3</red>;
      <blue>var</blue> x = <red>3</red>;
      <blue>let</blue> x = <red>3</red>;
  }
</pre>
<pre class="comment">
  <green>// Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>
  
  <green>// Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>
  <green>// Now Allowed</green>

</pre>
    </div></div>

  <p>다른 범위 또는 다른 묶음에서는 <em>const</em> 를 사용하여 변수를 다시 선언 할 수 있다.</p>

  <div class="grey">
<pre>
  <blue>const</blue> x = <red>2</red>; <green>// Allowed</green>
  {
      <blue>const</blue> x = <red>3</red>; <green>// Allowed</green>
  }
  {
      <blue>const</blue> x = <red>4</red>; <green>// Allowed</green>
  }
</pre>
    </div>

  <hr>
  <h2>끌어 올리기(Hoisting)</h2>
  <p>코드 아래에 var 변수로 정의된 변수는 자동으로 맨 위에 올려져 선언되고 언제든지 사용할 수 있다.</p>
  <p>이는 변수를 선언하기 전에 사용할 수 있다는 것을 의미한다.</p>

  <div class="grey">
<pre>
  carName = "<dark>Volvo</dark>";
  <i>alert</i>(carName);
  <blue>var</blue> carName;
</pre>
  </div>

  <p><em>const</em> 로 정의된 변수는 블록의 맨 위에 올려지지만 초기화되지는 않는다.<br>
    코드 블록은 변수를 인식하지만 선언될 때까지 사용할 수 없다.<br>
    <em>const</em> 변수를 선언하기 전에 사용하면 <em>SyntaxError</em> 가 발생하므로 코드가 실행되지 않는다.<br>
    변수는 묶음의 시작부터 선언될 때까지 "대기 상태"에 있게 된다.<br>
  </p>

    <h3>예 : 이 코드는 실행되지 않는다.</h3>
    <div class="grey" style="background-color: #fdd;">
<pre>
  carName = "<dark>Volvo</dark>";
  <blue>const</blue> carName;
</pre>
  </div>

  <script src="footer.js"></script>
</body>
</html>